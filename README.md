# Countdown

<h5>HTML/CSS/Bootstrap/JavaScript</h5>
<h4>Полнофункциональный таймер обратного отсчета с подписями, которые изменяются в правильном падеже</h4>
Популярный элемент в лендингах и рекламных блоках.<br>
Непосредственно таймер обратного отсчета имеет довольно простую логику, основанную на вычислении разницы времени в мс между установленной датой и текущим временем с последующим "разделением" этого значения на секции с секундами, минутами, часами и при необходимости днями. Однако, в русском языке есть падежи, и подписи к секции должны изменяться соотвественно: "1 час", "2 часа", "14 часов". Необходимость учесть этот момент потребовала добавить некоторое количество строк кода. Но результат - идеально правильный, понятный пользователю таймер!
<hr>

<ul>
  <li>Без JQuery, без CDN, написан на чистом JavaScript.</li>
  <li>Дату/время окончания обратного отсчета легко можно изменить</li>
  <li>Можно модифицировать код таким образом, чтобы отображать только часы, минуты и секунды. Все файлы сопровождаются подробными комментариями, которые помогают разобраться в блоках кода и разметки</li>
  <li>Разметка на Bootstrap grid</li>
  <li>Загруженные подключаемые шрифты</li>
</ul>
<hr>

<h4>1. Устанавливаем дату окончания обратного отсчета в формате гггг-мм-дд-чч-мм-сс</h4> 
Если такая точность не нужна, достаточно добавить гггг-мм-дд.<br>

<img width="259" alt="Screenshot 2023-05-23 at 16 25 39" src="https://github.com/polousova/countdown/assets/113363158/affa48bd-a550-4168-8ba8-f5cb584d3083"><br>

<hr>
<h4>2. Определям переменные в глобальной области видимости</h4>
<ul>
  <li>элементы со страницы с подписями секций</li><br>
  

<img width="365" alt="Screenshot 2023-05-23 at 16 18 42" src="https://github.com/polousova/countdown/assets/113363158/5b660128-526a-4a99-899d-247ea36ead4a"><br>
  <li>4 массива с падежами для каждой секции в отдельности</li><br>
  
  
  <img width="179" alt="Screenshot 2023-05-23 at 16 21 30" src="https://github.com/polousova/countdown/assets/113363158/cd058226-5d83-400e-9f5c-ac2c89074647"><br>

</ul>
<hr>
<h4>3. Записываем функцию, которая вычисляет разницу между временем окончания отсчета в мс с помощью метода parse - функция getTimeRemaining</h4> Эта функция принимает один аргумент - endtime, который в дальнейшем будут использовать и другие функции. Функция getTimeRemaining также вычисляет сколько целых дней, часов, минут содержится в этой разнице, и остаток секунд.<br>
  
  <img width="632" alt="Screenshot 2023-05-23 at 16 39 29" src="https://github.com/polousova/countdown/assets/113363158/4c5925d0-465b-473e-8ede-66657ccb6824"><br>

  Вернем результат вычисления и запишем их в объект: <br>
  
  
 <img width="202" alt="Screenshot 2023-05-23 at 16 40 39" src="https://github.com/polousova/countdown/assets/113363158/d95a26df-82a1-4572-b32d-7e32c0d64643">
 <hr>
 <h4>4. Теперь нам нужно вставить полученные дни, часы, минуты и секунды в верстку</h4> И сделать это динамически с обновлением каждые 100 мс (1с). За это отвечает функция setClock, которая принимает 2 аргумента: id и все тот же endtime.<br> Запишем в локальные переменные участвующие DOM элементы и временной интревал обновления таймера: <br>
 
 
<img width="431" alt="Screenshot 2023-05-23 at 16 52 18" src="https://github.com/polousova/countdown/assets/113363158/87310c67-e625-4643-923d-6940b9af3844"><br>

Внутри функции setClock - функция UpdateClock, которая обрабатывает результат вычисления функции getTimeRemaining и с помощью метода textContent вставляет дни в поле для дней, часы в поле для часов и тд. <br> Функция addZero добавляет "0" к отображемому числу, если результат вычисления от 0 до 9. <br>И если таймер истек, необходимо отобразить 00 во всех секциях. <br> 

<img width="496" alt="Screenshot 2023-05-23 at 17 07 30" src="https://github.com/polousova/countdown/assets/113363158/8f7d6532-7b9f-4ac4-92e4-c71331d3c7cb"><br>
Сразу же вызываем функцию setClock, передав ей в качестве аргументов id того элемента HTML, в который вставляем таймер, и время окончания отсчета: <br>

<img width="213" alt="Screenshot 2023-05-23 at 17 14 40" src="https://github.com/polousova/countdown/assets/113363158/20fc4538-128b-443b-b79c-f9c5905b4af9"><br>
<hr>
<h4>5. Теперь займемся подписями (я их называю лейблами) и их падежами.</h4>
Запишем функцию timerLabelSetup, которая будет работать с массивами, содержащими падежи, которые мы определили в самом начале. 
<img width="623" alt="Screenshot 2023-05-23 at 17 16 52" src="https://github.com/polousova/countdown/assets/113363158/2f96a533-0860-4079-8f46-e8b206fef3b2"><br>

Функция timerLabelSetup   
